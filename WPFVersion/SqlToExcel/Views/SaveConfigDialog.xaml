<Window x:Class="SqlToExcel.Views.SaveConfigDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        mc:Ignorable="d"
        Title="保存为批量导出配置" Height="500" Width="600"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 配置键输入 -->
        <hc:TextBox Grid.Row="0"
                    hc:InfoElement.Title="配置键 *"
                    hc:InfoElement.Placeholder="请输入唯一的配置标识"
                    Text="{Binding ConfigKey, UpdateSourceTrigger=PropertyChanged}"
                    IsEnabled="{Binding IsKeyAndDescriptionEditable}"
                    Margin="0,0,0,15"/>

        <!-- 源数据库描述 -->
        <hc:TextBox Grid.Row="1" 
                    hc:InfoElement.Title="源数据库查询描述" 
                    hc:InfoElement.Placeholder="可选：描述源数据库查询的用途"
                    Text="{Binding SourceDescription}"
                    IsEnabled="{Binding IsKeyAndDescriptionEditable}"
                    AcceptsReturn="True"
                    Height="60"
                    VerticalScrollBarVisibility="Auto"
                    Margin="0,0,0,15"/>

        <!-- 目标数据库描述 -->
        <hc:TextBox Grid.Row="2" 
                    hc:InfoElement.Title="目标数据库查询描述" 
                    hc:InfoElement.Placeholder="可选：描述目标数据库查询的用途"
                    Text="{Binding TargetDescription}"
                    IsEnabled="{Binding IsKeyAndDescriptionEditable}"
                    AcceptsReturn="True"
                    Height="60"
                    VerticalScrollBarVisibility="Auto"
                    Margin="0,0,0,15"/>

        <!-- SQL 编辑区域 -->
        <Grid Grid.Row="4" Margin="0,0,0,15">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <hc:Card Grid.Column="0" Header="源SQL">
                <hc:TextBox Text="{Binding SourceSql, UpdateSourceTrigger=PropertyChanged}"
                            AcceptsReturn="True"
                            VerticalScrollBarVisibility="Auto"
                            FontFamily="Consolas"
                            FontSize="12"
                            Height="120"/>
            </hc:Card>

            <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Center" VerticalAlignment="Stretch"/>

            <hc:Card Grid.Column="2" Header="目标SQL">
                <hc:TextBox Text="{Binding TargetSql, UpdateSourceTrigger=PropertyChanged}"
                            AcceptsReturn="True"
                            VerticalScrollBarVisibility="Auto"
                            FontFamily="Consolas"
                            FontSize="12"
                            Height="120"/>
            </hc:Card>
        </Grid>

        <!-- 按钮区域 -->
        <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="保存" 
                    Command="{Binding SaveCommand}"
                    Style="{StaticResource ButtonPrimary}"
                    Width="100"
                    Margin="0,0,10,0"/>
            <Button Content="取消" 
                    Command="{Binding CancelCommand}"
                    Width="100"/>
        </StackPanel>
    </Grid>
</Window>